# Proposta TÃ©cnica



## `MÃ³dulo__Diretoria:` Painel Resumo Geral

```Ruby
[ CAPÃTULO I â€” CONTROLES / FILTROS (PONTO DE ENTRADA) ]
â”‚  Moldam o escopo da consulta e direcionam o fluxo de dados.
â”‚  â”œâ”€ Art.1  âœ” PerÃ­odo (granularidade temporal)
â”‚  â”œâ”€ Art.2  âœ” Unidade (recorte organizacional)
â”‚  â”œâ”€ Art.3  âœ” Entidade/Cliente (filtro nominal)
â”‚  â”œâ”€ Art.4  âœ” AÃ§Ãµes rÃ¡pidas (Reset / Exportar)
â”‚  â””â”€ Art.5  âœ” Acessibilidade & usabilidade (labels, foco, tab)
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ Reduzir e parametrizar o universo de dados para consulta.
â”‚
[ CAPÃTULO II â€” DISPARO / REQUEST (TRANSMISSÃƒO) ]
â”‚  Ponto em que a UI transforma seleÃ§Ã£o do usuÃ¡rio em chamada estruturada.
â”‚  â”œâ”€ Art.1  âœ” Payload claro e idempotente (filtros + meta)
â”‚  â”œâ”€ Art.2  âœ” ValidaÃ§Ã£o mÃ­nima antes do envio (client-side)
â”‚  â”œâ”€ Art.3  âœ” Controle de estado (loading / debounce)
â”‚  â”œâ”€ Art.4  âœ” RequisiÃ§Ãµes cancelÃ¡veis/repetÃ­veis (race conditions)
â”‚  â””â”€ Art.5  âœ” SeguranÃ§a (autenticaÃ§Ã£o, rate-limit)
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Garantir que o request seja eficiente, seguro e previsÃ­vel.
â”‚
[ CAPÃTULO III â€” BACKEND / PROCESSAMENTO (AGREGAÃ‡ÃƒO) ]
â”‚  ResponsÃ¡vel por consultar, agregar e preparar a resposta.
â”‚  â”œâ”€ Art.1  âœ” Query DW/DB (filtros aplicados)
â”‚  â”œâ”€ Art.2  âœ” CÃ¡lculos de KPIs (agregaÃ§Ãµes, mÃ©dias, variaÃ§Ãµes)
â”‚  â”œâ”€ Art.3  âœ” SÃ©ries temporais (listas de pontos para grÃ¡ficos)
â”‚  â”œâ”€ Art.4  âœ” GeraÃ§Ã£o de alertas (regras de severidade)
â”‚  â””â”€ Art.5  âœ” Metadata (timestamp, versionamento da consulta)
â”‚
â”œâ”€â”€â–¶ (Resultado) â†’ Resposta completa: KPIs, sÃ©ries, alertas e timestamp.
â”‚
[ CAPÃTULO IV â€” RENDER / VISUALIZAÃ‡ÃƒO (TRADUÃ‡ÃƒO) ]
â”‚  Transformar dados em compreensÃ£o imediata e acionÃ¡vel.
â”‚  â”œâ”€ Art.1  âœ” KPIs sintÃ©ticos (visuais, clicÃ¡veis para drill-down)
â”‚  â”œâ”€ Art.2  âœ” GrÃ¡ficos de tendÃªncia e comparativo (contexto histÃ³rico)
â”‚  â”œâ”€ Art.3  âœ” Lista de alertas priorizada (aÃ§Ãµes sugeridas)
â”‚  â”œâ”€ Art.4  âœ” Estados UX (carregando, vazio, erro)
â”‚  â””â”€ Art.5  âœ” IndicaÃ§Ã£o de frescor (timestamp visÃ­vel)
â”‚
â”œâ”€â”€â–¶ (Objetivo) â†’ Maximizar compreensÃ£o rÃ¡pida e suportar decisÃ£o operacional.
â”‚
[ CAPÃTULO V â€” AÃ‡Ã•ES DO USUÃRIO (FEEDBACK) ]
â”‚  InteraÃ§Ãµes que alteram o fluxo ou geram efeitos fora da visualizaÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” Drill-down (navegar para detalhe)
â”‚  â”œâ”€ Art.2  âœ” Reset (limpar contexto e reconsultar)
â”‚  â”œâ”€ Art.3  âœ” Export (PDF / snapshot do estado atual)
â”‚  â”œâ”€ Art.4  âœ” Receber/ack de alertas (workflow)
â”‚  â””â”€ Art.5  âœ” PersistÃªncia de preferÃªncias (Ãºltimos filtros)
â”‚
â”œâ”€â”€â–¶ (AÃ§Ã£o) â†’ UsuÃ¡rio transforma insight em operaÃ§Ã£o, gerando nova iteraÃ§Ã£o.
â”‚
[ CAPÃTULO VI â€” GOVERNANÃ‡A & OBSERVABILIDADE (CONTRATO) ]
â”‚  Garantias de qualidade, rastreio e confiabilidade do pipeline.
â”‚  â”œâ”€ Art.1  âœ” Timestamp como contrato de frescor
â”‚  â”œâ”€ Art.2  âœ” Logs de consulta e mÃ©tricas (latÃªncia, erros)
â”‚  â”œâ”€ Art.3  âœ” Testes automatizados (integraÃ§Ã£o e regressÃ£o)
â”‚  â”œâ”€ Art.4  âœ” Tratamento de falhas e fallback (carga/erro)
â”‚  â””â”€ Art.5  âœ” Monitoramento e alertas operacionais do pipeline
â”‚
â”œâ”€â”€â–¶ (Garantia) â†’ TransparÃªncia sobre a origem, qualidade e atualidade dos dados.
â”‚
â”œâ”€â”€â–¶ (Fluxo Geral) â†’ CONTROLES â†’ REQUEST â†’ BACKEND â†’ RENDER â†’ AÃ‡Ã•ES â†’ GOVERNANÃ‡A
â”‚
```

## `MÃ³dulo__Diretoria:` Comparativos

```Ruby

[ CAPÃTULO I â€” CABEÃ‡ALHO & METADADOS (IDENTIDADE) ]
â”‚  Identifica o comparativo e informa frescor / escopo.
â”‚  â”œâ”€ Art.1  âœ” TÃ­tulo claro e contextual (mÃªs / trimestre / ano)
â”‚  â”œâ”€ Art.2  âœ” Timestamp de Ãºltima atualizaÃ§Ã£o visÃ­vel
â”‚  â”œâ”€ Art.3  âœ” Indicador do escopo atual (ex.: â€œComparativo â€” MÃªs vs MÃªsâ€)
â”‚  â”œâ”€ Art.4  âœ” Nota de fonte (Data Warehouse / contrato de dados)
â”‚  â””â”€ Art.5  âœ” InformaÃ§Ã£o mÃ­nima para confianÃ§a antes da leitura
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ SeguranÃ§a cognitiva: saber o que se vÃª e quÃ£o recente sÃ£o os dados.
â”‚
[ CAPÃTULO II â€” FILTROS COMPARATIVOS (PONTO DE ENTRADA) ]
â”‚  Parametrizam o par de perÃ­odos e recortes que definem o comparativo.
â”‚  â”œâ”€ Art.1  âœ” PerÃ­odo base (ex.: Ago 2025)
â”‚  â”œâ”€ Art.2  âœ” PerÃ­odo de comparaÃ§Ã£o (ex.: Jul 2025)
â”‚  â”œâ”€ Art.3  âœ” DimensÃ£o de anÃ¡lise (produto / cliente / unidade / geral)
â”‚  â”œâ”€ Art.4  âœ” Top N (amostragem: 10 / 20 / 50)
â”‚  â””â”€ Art.5  âœ” AÃ§Ãµes diretas (Aplicar / Exportar CSV) e acessibilidade dos controles
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Definir com precisÃ£o o par de sÃ©ries que serÃ¡ comparado.
â”‚
[ CAPÃTULO III â€” KPIs COMPARATIVOS (SÃNTESE NUMÃ‰RICA) ]
â”‚  Resumo numÃ©rico que quantifica as diferenÃ§as essenciais entre perÃ­odos.
â”‚  â”œâ”€ Art.1  âœ” MÃ©tricas base / comparaÃ§Ã£o / delta absoluto
â”‚  â”œâ”€ Art.2  âœ” Delta % e variaÃ§Ã£o relativa (normalizaÃ§Ã£o)
â”‚  â”œâ”€ Art.3  âœ” Indicadores de tendÃªncia (â†‘/â†“ / estÃ¡vel)
â”‚  â”œâ”€ Art.4  âœ” Links rÃ¡pidos para drill-down por mÃ©trica
â”‚  â””â”€ Art.5  âœ” ConsistÃªncia: soma/total entre KPIs e detalhe (checagem de integridade)
â”‚
â”œâ”€â”€â–¶ (Objetivo) â†’ Fornecer a leitura imediata do que mudou entre os dois perÃ­odos.
â”‚
[ CAPÃTULO IV â€” VISUALIZAÃ‡ÃƒO PRINCIPAL & CONTROLES DO GRÃFICO (TRADUÃ‡ÃƒO) ]
â”‚  RepresentaÃ§Ã£o visual do comparativo (sÃ©ries sobrepostas + variaÃ§Ã£o).
â”‚  â”œâ”€ Art.1  âœ” GrÃ¡fico principal (linha/barras sobrepostas) â€” comparaÃ§Ã£o direta
â”‚  â”œâ”€ Art.2  âœ” Option: tipo de grÃ¡fico (line / bar) para diferentes leituras
â”‚  â”œâ”€ Art.3  âœ” Ãndice base (normalizaÃ§Ã£o / mostrar Ã­ndice base)
â”‚  â”œâ”€ Art.4  âœ” Legenda, escala e indicaÃ§Ã£o clara de base vs comparaÃ§Ã£o
â”‚  â””â”€ Art.5  âœ” Estados UX (loading / sem dados / erro / tooltip explicativo)
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Facilitar identificaÃ§Ã£o de padrÃµes, picos e variaÃ§Ãµes significativas.
â”‚
[ CAPÃTULO V â€” CONTRIBUTORS, TABELAS & INSIGHTS AUTOMÃTICOS (ANÃLISE) ]
â”‚  DecomposiÃ§Ã£o do delta e sugestÃµes geradas automaticamente.
â”‚  â”œâ”€ Art.1  âœ” Top Contributors â€” itens que mais explicam o delta (ranking)
â”‚  â”œâ”€ Art.2  âœ” Tabela compacta com Base / Comp / Delta % (ordenÃ¡vel)
â”‚  â”œâ”€ Art.3  âœ” Insights automÃ¡ticos (ex.: â€œX contribuiu +30% para a quedaâ€)
â”‚  â”œâ”€ Art.4  âœ” Amostra por dimensÃ£o (chart-dim) para verificar padrÃµes segmentados
â”‚  â””â”€ Art.5  âœ” Possibilidade de exportar subconjuntos (CSV do Top N)
â”‚
â”œâ”€â”€â–¶ (Valor) â†’ Transformar diferenÃ§a em diagnÃ³stico: quem puxou o delta e por quÃª.
â”‚
[ CAPÃTULO VI â€” AÃ‡Ã•ES & INTERAÃ‡Ã•ES (REAÃ‡ÃƒO) ]
â”‚  O que o usuÃ¡rio pode fazer a partir do insight do comparativo.
â”‚  â”œâ”€ Art.1  âœ” Aplicar (refresh) â†’ nova requisiÃ§Ã£o com os filtros atuais
â”‚  â”œâ”€ Art.2  âœ” Exportar CSV (dados tabulares) â€” permitir auditoria externa
â”‚  â”œâ”€ Art.3  âœ” Drill-down para detalhe de item/cliente/produto
â”‚  â”œâ”€ Art.4  âœ” MarcaÃ§Ã£o/flag de insight para workflow (follow-up)
â”‚  â””â”€ Art.5  âœ” PersistÃªncia de preferÃªncias (Ãºltimos filtros / topN)
â”‚
â”œâ”€â”€â–¶ (AÃ§Ã£o) â†’ Converter insight em tarefa/consulta mais profunda ou em arquivo auditÃ¡vel.
â”‚
[ CAPÃTULO VII â€” FLUXO OPERACIONAL (PIPELINE) ]
â”‚  SequÃªncia de transformaÃ§Ã£o de filtros em insight e aÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” User selects filters (base, comp, dim, topN)
â”‚  â”œâ”€ Art.2  âœ” Front-end envia request com payload comparativo
â”‚  â”œâ”€ Art.3  âœ” Backend executa joins/aggregations â†’ produz: sÃ©ries (base & comp), top contributors, mÃ©tricas derivadas e timestamp
â”‚  â”œâ”€ Art.4  âœ” Front-end rendeiriza: KPIs, grÃ¡fico principal, tabela de contributors, chart-dim, insights automÃ¡ticos
â”‚  â””â”€ Art.5  âœ” User realiza aÃ§Ã£o (export, drill, marcar) â†’ possÃ­vel nova iteraÃ§Ã£o do pipeline
â”‚
â”œâ”€â”€â–¶ (SÃ­ntese) â†’ FILTERS â†’ REQUEST â†’ AGGREGATE â†’ RENDER â†’ ACTION â†’ ITERATE
â”‚
[ CAPÃTULO VIII â€” GOVERNANÃ‡A, QUALIDADE E OBSERVABILIDADE (CONTRATO) ]
â”‚  Regras e verificaÃ§Ãµes que garantem confiabilidade do comparativo.
â”‚  â”œâ”€ Art.1  âœ” Timestamp e versÃ£o da query como prova de frescor
â”‚  â”œâ”€ Art.2  âœ” ValidaÃ§Ã£o de consistÃªncia (KPIs agregados vs detalhe)
â”‚  â”œâ”€ Art.3  âœ” Rounding / normalizaÃ§Ã£o aplicada de forma documentada
â”‚  â”œâ”€ Art.4  âœ” DetecÃ§Ã£o automÃ¡tica de anomalias para destacar vieses (ex.: outliers)
â”‚  â””â”€ Art.5  âœ” Logs, mÃ©trica de latÃªncia e testes de integraÃ§Ã£o para o endpoint comparativo
â”‚
â”œâ”€â”€â–¶ (Garantia) â†’ TransparÃªncia sobre precisÃ£o, origem e limites da anÃ¡lise.
â”‚
â”œâ”€â”€â–¶ (Fluxo Geral) â†’ CABEÃ‡ALHO â†’ FILTROS â†’ REQUEST â†’ AGGREGATE â†’ RENDER â†’ ACTIONS â†’ GOVERNANÃ‡A
â”‚

```

## `MÃ³dulo__Diretoria:` Custo MÃ©dia Ponderado

### [ â—â—â— Assista ao vÃ­deo Extramaente Importante â—â—â—](https://youtu.be/TDwW86IJ7Wg)

**Resumo executivo:**<BR>
O **Custo MÃ©dio Ponderado (CMP)** calcula um **custo unitÃ¡rio mÃ©dio** sempre que ocorre **entrada** (compra/produÃ§Ã£o), incorporando tributos **nÃ£o recuperÃ¡veis** e custos necessÃ¡rios atÃ© a condiÃ§Ã£o/localizaÃ§Ã£o do item. As **saÃ­das** (vendas/consumos) usam **o CM vigente do momento** para apurar o **CMV**. No fechamento, aplica-se o **menor entre custo e VRL** (valor realizÃ¡vel lÃ­quido) e divulga-se a **polÃ­tica adotada** (CMP, critÃ©rios de custos e testes de VRL).


**Regras e polÃ­ticas operacionais (versÃ£o executiva):**

1. **Entradas (compra/produÃ§Ã£o)**
   â€¢ Atualizam quantidade e valor do estoque; o **CM Ã© recalculado** com base no valor total da entrada (preÃ§o + frete/seguro/manuseio + impostos **nÃ£o recuperÃ¡veis**).
   â€¢ Despesas financeiras explÃ­citas de prazo ficam **fora** do custo (reconhecidas como financeiro).
   â€¢ Em produÃ§Ã£o, **CIF** sÃ£o rateados pela **capacidade normal**; desperdÃ­cios **anormais** viram despesa do perÃ­odo.

2. **SaÃ­das (vendas/consumos)**
   â€¢ Usam **o CM vigente** para reconhecer o **CMV**; o **CM nÃ£o muda** por causa da saÃ­da.
   â€¢ **DevoluÃ§Ã£o de venda**: repÃµe estoque e **reverte o CMV** da saÃ­da original (sem recalcular o CM).

3. **Ajustes e exceÃ§Ãµes**
   â€¢ **DevoluÃ§Ã£o de compra**: reverte a entrada pelo **custo original** e **recalcula** o CM.
   â€¢ **VRL** (write-down/ reversÃ£o): reduzir ao VRL se menor que o custo; reverter quando cessarem os motivos.

4. **GovernanÃ§a e precisÃ£o**
   â€¢ Padronizar **casas decimais** (ex.: quantidade 3â€“4; valores 2â€“3).
   â€¢ **Proibir estoque negativo** e controlar **lanÃ§amentos retroativos** com janelas de reabertura aprovadas.
   â€¢ Divulgar **polÃ­ticas** (fÃ³rmula CMP, critÃ©rios de custo e VRL) e manter **trilha de auditoria**.




### 1) Fundamentos normativos (essenciais)

---

* **Mensurar estoques** pelo **custo** ou **VRL**, dos dois o menor.
* **Custo** inclui aquisiÃ§Ã£o (preÃ§o, impostos **nÃ£o recuperÃ¡veis**, frete/seguro/manuseio) e **transformaÃ§Ã£o** (mÃ£o de obra direta + CIF fixos/variÃ¡veis rateados em **capacidade normal**).
* **FÃ³rmulas admitidas**: **CMP** e **FIFO** (LIFO nÃ£o Ã© admitido em IFRS/BR-GAAP).
* **DivulgaÃ§Ãµes**: polÃ­tica adotada (CMP), valores reconhecidos no resultado (CMV), write-downs e reversÃµes, critÃ©rios de custo e de VRL.

---

### 2) PolÃ­tica recomendada (para deliberaÃ§Ã£o de diretoria)

* **Adotar CMP** (perpÃ©tuo) para itens fungÃ­veis, alto giro e baixo risco de validade.
* **Usar FIFO** quando houver exigÃªncia de **rastreabilidade fÃ­sica** (lotes/validade).
* **Vedado LIFO**.
* **VRL**: estabelecer **periodicidade** (mensal/trimestral por famÃ­lia SKU) e critÃ©rios de reversÃ£o.
* **Casas decimais oficiais** e **bloqueio** de estoque negativo definidos como polÃ­tica de sistema.

---

### 3) Pipeline Linear (EL-01) â€” diagrama textual

**Cadastro do Item** â†’ **Recebimento & Fiscal** (compÃµe custo de aquisiÃ§Ã£o) â†’
**ProduÃ§Ã£o/TransformaÃ§Ã£o** (se aplicÃ¡vel; CIF por capacidade normal) â†’
**Entrada no Estoque** (**recalcula CMP**) â†’
**SaÃ­da** (**aplica CM vigente** e reconhece **CMV**) â†’
**VRL** (write-down/reversÃ£o) â†’
**ConciliaÃ§Ã£o & Fechamento** (inventÃ¡rio fÃ­sico, KPIs, notas explicativas)

---

### 4) Tabela detalhada das etapas (governanÃ§a)

| Etapa                | Objetivo                      | Entradas                   | Regra/PolÃ­tica                                    | SaÃ­da/Registro     | ResponsÃ¡vel       | Controle-chave                 |
| -------------------- | ----------------------------- | -------------------------- | ------------------------------------------------- | ------------------ | ----------------- | ------------------------------ |
| Cadastro             | Padronizar UMs, NCM, lote     | Ficha do item              | PolÃ­tica de casas decimais; sem estoque negativo  | Item aprovado      | Compras/Fiscal/TI | Workflow de aprovaÃ§Ã£o          |
| Recebimento & Fiscal | Validar NF e tributos         | NF-e, pedido, frete/seguro | Custos **nÃ£o recuperÃ¡veis** entram no custo       | Entrada lanÃ§ada    | Fiscal/ContÃ¡bil   | Auditoria de impostos e preÃ§os |
| ProduÃ§Ã£o (se houver) | Compor custo de transformaÃ§Ã£o | BOM, MO, CIF               | CIF por **capacidade normal**; anormais â†’ despesa | Custo de produÃ§Ã£o  | PCP/Custos        | TolerÃ¢ncias/refugos            |
| Entrada              | Atualizar saldos e CM         | Q, custo unitÃ¡rio          | Recalcula **CM** a cada entrada                   | Qâ€™, Vâ€™, CMâ€™        | Estoque/ContÃ¡bil  | Log de cÃ¡lculo por evento      |
| SaÃ­da                | Reconhecer CMV                | Q, **CM vigente**          | CMV = quantidade Ã— CM vigente                     | Nota/CMV           | Vendas/Estoque    | Bloqueio sem saldo             |
| DevoluÃ§Ãµes           | Corrigir operaÃ§Ã£o             | NF devoluÃ§Ã£o               | Compra: reverte entrada; Venda: reverte CMV       | Saldos ajustados   | Fiscal/ContÃ¡bil   | AmarraÃ§Ã£o Ã  nota origem        |
| VRL                  | PrudÃªncia                     | PreÃ§os, custos de venda    | Baixa p/ VRL; reversÃµes quando aplicÃ¡vel          | ProvisÃµes          | ContÃ¡bil          | Testes por famÃ­lia SKU         |
| Fechamento           | Evidenciar polÃ­tica           | RelatÃ³rios, inventÃ¡rio     | Divulgar fÃ³rmula/polÃ­tica e write-downs           | Notas explicativas | ContÃ¡bil          | Trilha de auditoria            |

---

### 5) Casos especiais (pontos de decisÃ£o)

* **BonificaÃ§Ã£o de compra** vinculada a itens: **reduz o custo** do item; bonificaÃ§Ã£o geral: tratar como **receita/abatimento**, nÃ£o no custo.
* **Frete e custos acessÃ³rios**: entram no custo **se necessÃ¡rios** Ã  condiÃ§Ã£o/localizaÃ§Ã£o do item; do contrÃ¡rio, sÃ£o despesa.
* **DevoluÃ§Ã£o de venda**: **repor** estoque e **reverter CMV** exatamente pelo custo usado na saÃ­da original.
* **LanÃ§amentos retroativos**: definir janela controlada e **recalcular CMP** apenas com autorizaÃ§Ã£o.

---

### 6) Riscos & controles (para a reuniÃ£o)

| Risco                        | Impacto                     | MitigaÃ§Ã£o                                  |
| ---------------------------- | --------------------------- | ------------------------------------------ |
| Estoque negativo             | CMV distorcido; auditoria   | Bloqueio sistÃªmico + rotina de acertos     |
| Tributos mal classificados   | Custo super/subavaliado     | ValidaÃ§Ã£o fiscal automÃ¡tica                |
| CIF mal rateado              | Custo de produÃ§Ã£o incorreto | CritÃ©rios por capacidade normal; revisÃµes  |
| VRL ignorado                 | Estoque acima do realizÃ¡vel | Testes periÃ³dicos e reversÃµes documentadas |
| Arredondamento inconsistente | DiferenÃ§as residuais        | PolÃ­tica Ãºnica de casas decimais/algoritmo |

---

### 7) KPIs para diretoria (painel)

* **Giro de estoque** e **cobertura em dias**
* **CMV/Receita** e **margem bruta**
* **ProvisÃµes VRL** (e **reversÃµes**) por famÃ­lia SKU
* **AcurÃ¡cia de inventÃ¡rio** (%) e diferenÃ§as (R$)
* **Mapa de custos**: participaÃ§Ã£o de aquisiÃ§Ã£o vs. transformaÃ§Ã£o

---

### 8) UAT (cenÃ¡rios mÃ­nimos de aceitaÃ§Ã£o)

1. Entradas mÃºltiplas com custos distintos â†’ **CM recalculado** corretamente; saÃ­das usando **CM do momento**.
2. DevoluÃ§Ã£o parcial de compra â†’ **reversÃ£o** pelo custo da nota e **recalcula CM**.
3. DevoluÃ§Ã£o de venda â†’ **reversÃ£o do CMV** e reposiÃ§Ã£o pelo custo original.
4. Frete/manuseio pÃ³s-compra â†’ classificar **no custo** somente se necessÃ¡rios Ã  condiÃ§Ã£o/localizaÃ§Ã£o.
5. VRL em queda de preÃ§o â†’ **write-down**; quando recuperar, **reversÃ£o** registrada.

---

### 9) Checklist de adoÃ§Ã£o

* PolÃ­tica formal **CMP** (perpÃ©tuo); **FIFO** quando houver rastreio; **LIFO vedado**.
* ParametrizaÃ§Ã£o de **tributos recuperÃ¡veis Ã— nÃ£o recuperÃ¡veis**.
* **CIF** por **capacidade normal** e polÃ­tica de desperdÃ­cios.
* **Bloqueio** de estoque negativo; **fechamento duro** com reabertura controlada.
* Rotina de **VRL** e **KPIs** no fechamento.

---

### 10) Anexo didÃ¡tico â€” narrativa do exemplo

* **Saldo inicial**: Q=0; V=0.
* **Compra A**: 40 un a R$ 1,50 â†’ Q=40; V=60; **CM=1,50**.
* **Compra B**: 25 un a R$ 1,60 â†’ Q=65; V=100; **CMâ‰ˆ1,5385**.
* **SaÃ­da 1**: 20 un a **CMâ‰ˆ1,5385** â†’ **CMVâ‰ˆ30,77**; Q=45; Vâ‰ˆ69,23; **CM mantÃ©m**.
* **Compra C**: 10 un a R$ 1,70 â†’ Q=55; Vâ‰ˆ86,23; **CMâ‰ˆ1,5687**.
* **SaÃ­da 2**: 30 un a **CMâ‰ˆ1,5687** â†’ **CMVâ‰ˆ47,06**; Q=25; Vâ‰ˆ39,17; **CM mantÃ©m**.
  *(PrecisÃµes finais seguem polÃ­tica de casas decimais.)*

---

### 11) Comparativo rÃ¡pido (ajuda Ã  decisÃ£o)

| CritÃ©rio                  | **CMP**                     | **FIFO**                           |
| ------------------------- | --------------------------- | ---------------------------------- |
| Estabilidade do custo     | Alta (suaviza oscilaÃ§Ãµes)   | SensÃ­vel a ordem de entrada        |
| Complexidade              | Baixa no perpÃ©tuo           | Moderada (controle por camadas)    |
| AderÃªncia a IFRS/BR-GAAP  | Total                       | Total                              |
| Rastreio de validade/lote | Indireto (requer metadados) | Natural (camadas cronolÃ³gicas)     |
| CenÃ¡rio ideal             | Itens fungÃ­veis e alto giro | Itens com rastreio fÃ­sico/validade |

---

### 12) Pipeline visual (EL-01 em 5 linhas)

**Entrada** â†’ compÃµe custo (aquisiÃ§Ã£o/transformaÃ§Ã£o) â†’ **recalcula CMP**
**SaÃ­da** â†’ aplica **CM vigente** â†’ **CMV**
**VRL** â†’ write-down/reversÃµes quando necessÃ¡rio
**ConciliaÃ§Ã£o** â†’ inventÃ¡rio fÃ­sico + KPIs
**Fechamento** â†’ polÃ­tica e fÃ³rmula divulgadas

se quiser, eu **condenso em 1â€“2 pÃ¡ginas para impressÃ£o** (linguagem 100% executiva) ou **adapto a terminologia** para o board (com foco em riscos, compliance e ROI).




```Ruby
[ CAPÃTULO I â€” CABEÃ‡ALHO & METADADOS (IDENTIDADE) ]
â”‚  Identifica o documento e oferece aÃ§Ãµes globais de leitura/impressÃ£o.
â”‚  â”œâ”€ Art.1  âœ” TÃ­tulo claro e objetivo (MÃ©dia Ponderada â€” Exemplo do VÃ­deo)
â”‚  â”œâ”€ Art.2  âœ” Controles globais (Expandir / Recolher / Imprimir)
â”‚  â”œâ”€ Art.3  âœ” IndicaÃ§Ã£o de frescor (timestamp / last-update)
â”‚  â”œâ”€ Art.4  âœ” OrganizaÃ§Ã£o visual para navegaÃ§Ã£o rÃ¡pida (header / aÃ§Ãµes)
â”‚  â””â”€ Art.5  âœ” InformaÃ§Ã£o mÃ­nima para confianÃ§a antes da leitura
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ Contextualizar o leitor e disponibilizar operaÃ§Ãµes primÃ¡rias do documento.
â”‚

[ CAPÃTULO II â€” FERRAMENTAS DE NAVEGAÃ‡ÃƒO & FILTRO (ACESSO RÃPIDO) ]
â”‚  Elementos para localizar seÃ§Ãµes e controlar a exibiÃ§Ã£o do conteÃºdo.
â”‚  â”œâ”€ Art.1  âœ” Campo de busca com sugestÃ£o contextual (pesquisar termos tÃ©cnicos)
â”‚  â”œâ”€ Art.2  âœ” BotÃ£o limpar / reset da busca
â”‚  â”œâ”€ Art.3  âœ” Chips / Ã¢ncoras para pular Ã s seÃ§Ãµes-chave (Resumo, Regras, Simulador, Tabela, Doc)
â”‚  â”œâ”€ Art.4  âœ” Estado de feedback para â€œnenhum resultadoâ€
â”‚  â””â”€ Art.5  âœ” Acessibilidade e indicaÃ§Ã£o de foco para navegaÃ§Ã£o por teclado
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Reduzir o tempo atÃ© o trecho desejado; facilitar reproduÃ§Ã£o do exemplo.
â”‚

[ CAPÃTULO III â€” RESUMO CONCEITUAL (IDEIA CENTRAL) ]
â”‚  Uma frase ou bloco curto que define a essÃªncia do tÃ³pico.
â”‚  â”œâ”€ Art.1  âœ” DefiniÃ§Ã£o sucinta (o que Ã© mÃ©dia ponderada)
â”‚  â”œâ”€ Art.2  âœ” Qual Ã© a utilidade prÃ¡tica (cÃ¡lculo do custo mÃ©dio para saÃ­das)
â”‚  â”œâ”€ Art.3  âœ” PÃºblico-alvo do documento (estoque / contabilidade / auditoria)
â”‚  â”œâ”€ Art.4  âœ” Link rÃ¡pido para â€œir ao simuladorâ€ ou exemplos prÃ¡ticos
â”‚  â””â”€ Art.5  âœ” Notas de leitura (quando usar CM vs outras metodologias)
â”‚
â”œâ”€â”€â–¶ (SÃ­ntese) â†’ Comunicar em 1 frase o propÃ³sito funcional do conteÃºdo.
â”‚

[ CAPÃTULO IV â€” REGRAS DE CÃLCULO (NÃšCLEO TÃ‰CNICO) ]
â”‚  FÃ³rmulas e passos formais que definem o comportamento do mÃ©todo.
â”‚  â”œâ”€ Art.1  âœ” Regra de entrada (q, cu â†’ atualizaÃ§Ã£o Q', V', CM')
â”‚  â”œâ”€ Art.2  âœ” Regra de saÃ­da (uso do CM vigente; atualizaÃ§Ã£o de Q e V)
â”‚  â”œâ”€ Art.3  âœ” CondiÃ§Ãµes e exceÃ§Ãµes (Q' = 0 â†’ CM = 0; tratamento de divisÃ£o)
â”‚  â”œâ”€ Art.4  âœ” NotaÃ§Ã£o e variÃ¡veis (Q, V, CM, q, cu) claramente definidas
â”‚  â””â”€ Art.5  âœ” Comportamento numÃ©rico (arredondamento, precisÃ£o e modo de apresentaÃ§Ã£o)
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Garantir que a operacionalizaÃ§Ã£o do cÃ¡lculo seja inequÃ­voca.
â”‚

[ CAPÃTULO V â€” SIMULADOR (INTERAÃ‡ÃƒO & PROCESSO) ]
â”‚  Ferramenta prÃ¡tica para aplicar transaÃ§Ãµes e observar impacto passo-a-passo.
â”‚  â”œâ”€ Art.1  âœ” Entrada de parÃ¢metros iniciais (Q0, CM0, casas decimais, modo)
â”‚  â”œâ”€ Art.2  âœ” FormulÃ¡rio de transaÃ§Ã£o (data, tipo, q, cu, cliente/tipo)
â”‚  â”œâ”€ Art.3  âœ” Modos de exibiÃ§Ã£o (preciso vs aproximaÃ§Ã£o visÃ­vel)
â”‚  â”œâ”€ Art.4  âœ” Log de movimentos (tabela sequencial com Q antes/depois, CM antes/depois)
â”‚  â””â”€ Art.5  âœ” AÃ§Ãµes do simulador (Adicionar, Limpar, Carregar exemplo do vÃ­deo, Mostrar log)
â”‚
â”œâ”€â”€â–¶ (Objetivo) â†’ Permitir experimentaÃ§Ã£o segura e reproduÃ§Ã£o passo-a-passo do exemplo do vÃ­deo.
â”‚

[ CAPÃTULO VI â€” OUTPUTS & MÃ‰TRICAS (LEITURA IMEDIATA) ]
â”‚  Valores derivados exibidos ao usuÃ¡rio apÃ³s aplicaÃ§Ã£o de transaÃ§Ãµes.
â”‚  â”œâ”€ Art.1  âœ” Quantidade atual (Q) â€“ saldo visÃ­vel
â”‚  â”œâ”€ Art.2  âœ” Custo mÃ©dio vigente (CM)
â”‚  â”œâ”€ Art.3  âœ” Valor do estoque (V) = Q Ã— CM (ou modo visÃ­vel)
â”‚  â”œâ”€ Art.4  âœ” CMV acumulado (sum of outputs) para auditoria
â”‚  â””â”€ Art.5  âœ” Widgets de resumo rÃ¡pido (Entradas, SaÃ­das, Saldo final)
â”‚
â”œâ”€â”€â–¶ (Resultado) â†’ Fornecer nÃºmeros prontos para anÃ¡lise e verificaÃ§Ã£o.
â”‚

[ CAPÃTULO VII â€” TABELA CMP (REPRODUÃ‡ÃƒO DO QUADRO) ]
â”‚  RepresentaÃ§Ã£o tabular passo-a-passo conforme o formato do vÃ­deo.
â”‚  â”œâ”€ Art.1  âœ” CabeÃ§alho multi-nÃ­vel (Entradas / SaÃ­das / Saldo) claramente rotulado
â”‚  â”œâ”€ Art.2  âœ” Linhas por perÃ­odo/movimento com colunas Q, CU, Total e saldo
â”‚  â”œâ”€ Art.3  âœ” RodapÃ© com totais consolidados (CMV, Estoque final)
â”‚  â”œâ”€ Art.4  âœ” Controles de visualizaÃ§Ã£o (decimais, modo, saldo por linha)
â”‚  â””â”€ Art.5  âœ” ExportaÃ§Ã£o/ImpressÃ£o da tabela para evidÃªncia (audit trail)
â”‚
â”œâ”€â”€â–¶ (Valor) â†’ Permitir rastreabilidade linha-a-linha da formaÃ§Ã£o do CM.
â”‚

[ CAPÃTULO VIII â€” WIDGETS DE SOMAS & SÃNTESE (PANORAMA) ]
â”‚  Elementos que sumarizam totais e dÃ£o visÃ£o rÃ¡pida do impacto agregado.
â”‚  â”œâ”€ Art.1  âœ” Entradas acumuladas (q, valor)
â”‚  â”œâ”€ Art.2  âœ” SaÃ­das acumuladas (q, CMV)
â”‚  â”œâ”€ Art.3  âœ” Saldo final (q, CM, V)
â”‚  â”œâ”€ Art.4  âœ” Indicadores de integridade (somas batem vs tabela)
â”‚  â””â”€ Art.5  âœ” Visual destaque para variaÃ§Ãµes significativas
â”‚
â”œâ”€â”€â–¶ (FunÃ§Ã£o) â†’ Resumo executivo dos movimentos para decisÃµes rÃ¡pidas.
â”‚

[ CAPÃTULO IX â€” AÃ‡Ã•ES DO USUÃRIO (INTERATIVAS) ]
â”‚  OperaÃ§Ãµes disponÃ­veis a partir do documento/simulador.
â”‚  â”œâ”€ Art.1  âœ” Expandir / Recolher (navegaÃ§Ã£o de leitura)
â”‚  â”œâ”€ Art.2  âœ” Imprimir / Exportar (PDF, CSV do CMP)
â”‚  â”œâ”€ Art.3  âœ” Carregar exemplo (replay do vÃ­deo)
â”‚  â”œâ”€ Art.4  âœ” Gerar resumo / mostrar log (evidÃªncia passo-a-passo)
â”‚  â””â”€ Art.5  âœ” Persistir cenÃ¡rio (salvar preferÃªncias ou histÃ³rico)
â”‚
â”œâ”€â”€â–¶ (AÃ§Ã£o) â†’ Transformar observaÃ§Ã£o em prova, arquivo ou nova simulaÃ§Ã£o.
â”‚

[ CAPÃTULO X â€” FLUXO OPERACIONAL (PIPELINE) ]
â”‚  SequÃªncia lÃ³gica que transforma entrada em resultado e evidÃªncia.
â”‚  â”œâ”€ Art.1  âœ” Leitor abre documento â†’ verifica tÃ­tulo e atualizaÃ§Ã£o
â”‚  â”œâ”€ Art.2  âœ” UsuÃ¡rio busca / navega atÃ© seÃ§Ã£o desejada (Resumo/Regras/Simulador)
â”‚  â”œâ”€ Art.3  âœ” Define parÃ¢metros iniciais e insere transaÃ§Ãµes no simulador
â”‚  â”œâ”€ Art.4  âœ” Simulador aplica regras â†’ atualiza log, tabela CMP e widgets
â”‚  â”œâ”€ Art.5  âœ” UsuÃ¡rio valida resultados, exporta ou imprime evidÃªncias
â”‚  â””â”€ Art.6  âœ” Itera (novo cenÃ¡rio) ou salva como caso de teste
â”‚
â”œâ”€â”€â–¶ (SÃ­ntese) â†’ ABRIR â†’ NAVEGAR â†’ SIMULAR â†’ AGREGAR â†’ VALIDAR â†’ EXPORTAR/ITERAR
â”‚

[ CAPÃTULO XI â€” GOVERNANÃ‡A, VERIFICAÃ‡ÃƒO E AUDITABILIDADE (CONTRATO) ]
â”‚  Regras que asseguram confiabilidade e reprodutibilidade do cÃ¡lculo.
â”‚  â”œâ”€ Art.1  âœ” Documentar versÃ£o do exemplo (ex.: vÃ­deo referÃªncia + timestamp)
â”‚  â”œâ”€ Art.2  âœ” Registrar precisÃ£o e modo de arredondamento usados na simulaÃ§Ã£o
â”‚  â”œâ”€ Art.3  âœ” Validar consistÃªncia (somas do widget vs totais da tabela)
â”‚  â”œâ”€ Art.4  âœ” Log de transaÃ§Ãµes com identificador e possibilidade de exportaÃ§Ã£o
â”‚  â””â”€ Art.5  âœ” Testes de regressÃ£o para modos (preciso vs aproximaÃ§Ã£o visÃ­vel)
â”‚
â”œâ”€â”€â–¶ (Garantia) â†’ Rastreabilidade completa para fins contÃ¡beis e de auditoria.
â”‚

â”œâ”€â”€â–¶ (Fluxo Geral) â†’ CABEÃ‡ALHO â†’ FERRAMENTAS â†’ (RESUMO / REGRAS) â†’ SIMULAR â†’ CMP TABLE & WIDGETS â†’ AÃ‡Ã•ES â†’ GOVERNANÃ‡A
â”‚



```

## `MÃ³dulo__Diretoria:` Custo Por AbsorÃ§Ã£o


### ğŸ§® Custeio por AbsorÃ§Ã£o â€” **ClassificaÃ§Ã£o de Custos**

**Escopo:** definir *o que entra no custo*, *como classificar* (DiretoÃ—Indireto; FixoÃ—VariÃ¡vel) e *como ratear* os **CIF** por **base coerente**, respeitando **capacidade normal**. Estoques seguem **custo ou VRL, o menor**. ([IFRS Foundation][1])


### ReferÃªncias

* **IAS 2 â€” Inventories**: custo inclui aquisiÃ§Ã£o e conversÃ£o; **CIF fixos** pela **capacidade normal**; SG&A fora do custo; **VRL**. ([IFRS Foundation][2])
* **CPC 16 (R1) â€” Estoques**: traduÃ§Ã£o/local BR-GAAP das mesmas diretrizes (capacidade normal, custo/VRL). ([CVM][5])
* **VÃ­deo base didÃ¡tica**: *Aula 8 â€” Custeio por AbsorÃ§Ã£o* (Prof. Daniel Santana). ([YouTube][4])

---


- 1: [ifrs.org](https://www.ifrs.org/issued-standards/list-of-standards/ias-2-inventories/?utm_source=chatgpt.com)
- 2: [IAS 2 Inventories](https://www.ifrs.org/content/dam/ifrs/publications/pdf-standards/english/2022/issued/part-a/ias-2-inventories.pdf?bypass=on&utm_source=chatgpt.com)
    - [IAS 2 Inventories summary - applies in 2025](https://youtu.be/hYmeQYuhS2E)
- 3: [iasplus.com](https://www.iasplus.com/en/standards/ias/ias2?utm_source=chatgpt.com)
- 4: [CLASS 8 | ABSORPTION COSTING"](https://www.youtube.com/watch?v=GI5F9k8KB8g&utm_source=chatgpt.com)
- 5: [CPC 16 (R1) - Estoques - CVM"](https://conteudo.cvm.gov.br/export/sites/cvm/menu/regulados/normascontabeis/cpc/CPC_16_R1_rev_12.pdf?utm_source=chatgpt.com)



### 1) Resumo executivo

No **custeio por absorÃ§Ã£o**, **todos** os custos de fabricaÃ§Ã£o **diretos e indiretos (fixos e variÃ¡veis)** sÃ£o atribuÃ­dos aos produtos: **MP**, **MOD** e **CIF** (energia, aluguel fÃ¡brica, depreciaÃ§Ã£o, supervisÃ£o etc.). **Despesas de venda/administrativas ficam fora do custo do estoque**. Os **CIF fixos** sÃ£o alocados com base na **capacidade normal**; variaÃ§Ãµes relevantes (sub/ superabsorÃ§Ã£o) impactam o resultado. ([IFRS Foundation][2])


### 2) Pipeline Linear (EL-01) â€” do dado Ã  decisÃ£o

```Ruby
[0. PreparaÃ§Ã£o]
    â€¢ Separar Custo Ã— Despesa (vendas/adm fora do estoque).
    â€¢ Levantar volumes (unid., horas MOD, horas-mÃ¡quina, consumo MP).
[1. ClassificaÃ§Ã£o]
    â€¢ Para cada item: Direto ou Indireto (CIF); Fixo ou VariÃ¡vel.
[2. Bases de rateio (CIF)]
    â€¢ Escolher driver aderente: Unidades | Horas MOD | Horas-mÃ¡quina | Valor de MP.
[3. Capacidade normal]
    â€¢ Definir capacidade normal do parque fabril (base das taxas de CIF fixos).
[4. Taxas de absorÃ§Ã£o]
    â€¢ CIF fixos Ã· capacidade normal  â†’ taxa fixa.
    â€¢ CIF variÃ¡veis Ã· driver real     â†’ taxa variÃ¡vel.
[5. ApropriaÃ§Ã£o aos produtos]
    â€¢ Diretos por mediÃ§Ã£o; CIF = taxa Ã— consumo de driver por produto.
[6. Custo total e unitÃ¡rio]
    â€¢ Custo total = Diretos + CIF alocados.
    â€¢ Custo unitÃ¡rio = Custo total Ã· Unidades produzidas.
[7. Checagens & VRL]
    â€¢ Estoques por custo ou VRL (o menor); SG&A fora do custo.
[8. KPIs & GovernanÃ§a]
    â€¢ %CIF no custo; taxa de absorÃ§Ã£o; sub/superabsorÃ§Ã£o; margem vs. preÃ§o.
```

**Notas-chave**
â€¢ **Capacidade normal** Ã© a mÃ©dia sustentÃ¡vel ao longo de perÃ­odos; evita distorÃ§Ã£o da taxa de CIF fixos. ([IFRS Foundation][2])
â€¢ Estoques **nÃ£o** incluem despesas de venda/adm; mensurar por **custo ou VRL (menor)**. ([IFRS Foundation][1])


### 3) Regras operacionais (direto ao ponto)

* **Diretos**: apropriados por mediÃ§Ã£o (ordem, BOM/rota, apontamentos).
* **Indiretos (CIF)**: **selecionar driver que represente consumo**:
  â€¢ **Energia & depreciaÃ§Ã£o de mÃ¡quinas** â†’ **horas-mÃ¡quina**;
  â€¢ **SupervisÃ£o & utilidades de processo** â†’ **horas MOD**;
  â€¢ **Aluguel da fÃ¡brica** â†’ **mÂ² produtivos** ou **horas-mÃ¡quina**;
  â€¢ **ConsumÃ­veis proporcionais Ã  MP** â†’ **valor de MP**;
  â€¢ **Alto mix/complexidade**: considerar granularidade por **centro de custo**.
* **Taxa de CIF fixos**: calcular com **capacidade normal**; **nÃ£o inflar** a taxa quando a produÃ§Ã£o cai (diferenÃ§a vira despesa). ([IFRS Foundation][2])
* **Fechamento**: divulgar polÃ­tica de custo, drivers, e critÃ©rios de VRL nas notas (quando aplicÃ¡vel). ([IAS Plus][3])


### 4) Exemplo prÃ¡tico (resumo para mesa) â€” **Pop** & **Top**

**Passos:** (i) separar custos de **produÃ§Ã£o** das **despesas**; (ii) classificar **Diretos Ã— Indiretos**; (iii) **alocar diretos** por consumo; (iv) **ratear CIF** por **driver escolhido** (ex.: **unidades** ou **horas**); (v) somar **Diretos + CIF** por produto; (vi) dividir por **unidades produzidas**. *(Base didÃ¡tica alinhada ao vÃ­deo de referÃªncia.)* ([YouTube][4])

**Exemplo (esquemÃ¡tico):**

* **Diretos** (Pop/Top): MP e MOD por consumo.
* **CIF** (aluguel fÃ¡brica, energia, supervisÃ£o): escolher **uma base** (p.ex. unidades) e **aplicar taxa** = CIF Ã· total do driver; **produto absorve** CIF conforme seu uso do driver.
* **Resultado**: **Custo total** por produto = Diretos + CIF alocados; **Custo unitÃ¡rio** = total Ã· unidades.


### 5) Tabela de etapas â€” quem faz o quÃª (governanÃ§a)

| Etapa          | Objetivo                         | Entradas                 | SaÃ­da                    | Dono                 | Controle                                              |
| -------------- | -------------------------------- | ------------------------ | ------------------------ | -------------------- | ----------------------------------------------------- |
| 0. Preparar    | Separar custos vs. despesas      | Plano de contas, centros | Lista â€œcustos elegÃ­veisâ€ | ContÃ¡bil/Custos      | Auditoria SG&A fora do estoque ([IFRS Foundation][1]) |
| 1. Classificar | DI/FV por item                   | Itens de custo           | Mapa DI/FV               | Custos/PCP           | RevisÃ£o gerencial                                     |
| 2. Driver CIF  | Escolher base de rateio          | Unid./Horas/Valor MP     | Drivers definidos        | Custos/OperaÃ§Ã£o      | Justificativa tÃ©cnica                                 |
| 3. Capacidade  | Definir **capacidade normal**    | Eng./PCP                 | Base das taxas           | PCP/Custos           | Ato formal e revisÃ£o ([CVM][5])                       |
| 4. Taxas       | Calcular taxas (fixos/variÃ¡veis) | CIF e drivers            | Tabelas de taxa          | Custos               | Recalcular por perÃ­odo                                |
| 5. Apropriar   | Alocar por produto               | Consumos por driver      | Custos por SKU           | Custos/Controladoria | Trilha por ordem                                      |
| 6. Fechar      | Custo unit. & VRL                | Unidades/VRL             | Custo & provisÃµes        | ContÃ¡bil             | PolÃ­tica de VRL ([IFRS Foundation][1])                |

---

### 6) Riscos & controles (para a diretoria)

* **Driver inadequado** â†’ custo distorcido por produto â†’ **polÃ­tica de seleÃ§Ã£o de drivers** + **testes de sensibilidade**.
* **Capacidade mal estimada** â†’ taxa de CIF fixos errada â†’ **revisar capacidade normal** periodicamente. ([IFRS Foundation][2])
* **SG&A no estoque** â†’ margem artificial â†’ **checagem de contas** (vendas/adm fora do custo). ([IAS Plus][3])
* **ObsolescÃªncia/queda de preÃ§o** â†’ estoque acima do realizÃ¡vel â†’ **teste de VRL e provisÃ£o**. ([IFRS Foundation][1])


### 7) KPIs essenciais

**%CIF no custo**, **Taxa de absorÃ§Ã£o** (fixa/variÃ¡vel), **Sub/superabsorÃ§Ã£o (R$)**, **Custo unitÃ¡rio por SKU**, **Margem bruta vs. preÃ§o**, **AcurÃ¡cia de classificaÃ§Ã£o (DI/FV)**. *(Use os cartÃµes da sua tela para leitura rÃ¡pida.)*



```Ruby
[ CAPÃTULO I â€” IDENTIDADE & TEMA (CONTEXTO DA PÃGINA) ]
â”‚  Define o propÃ³sito e a camada visual/semÃ¢ntica da documentaÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” PÃ¡gina corrente (CURRENT_PAGE) identifica o mÃ³dulo ativo.
â”‚  â”œâ”€ Art.2  âœ” Tema com paleta (light/dark) e tokens visuais (background/surface/tÃ­tulo/accent).
â”‚  â”œâ”€ Art.3  âœ” Layout-base: container, cabeÃ§alho, corpo em grid e painÃ©is.
â”‚  â”œâ”€ Art.4  âœ” Tipografia e contraste asseguram leitura e hierarquia.
â”‚  â””â”€ Art.5  âœ” Sombra/bordas para profundidade sem ruÃ­do visual.
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ Sustentar legibilidade e identidade semÃ¢ntica da tela.
â”‚
[ CAPÃTULO II â€” OBJETIVO & USO (ORIENTAÃ‡ÃƒO INICIAL) ]
â”‚  Explica o que o usuÃ¡rio farÃ¡ e como avanÃ§ar.
â”‚  â”œâ”€ Art.1  âœ” Classificar itens de custo (DiretoÃ—Indireto; FixoÃ—VariÃ¡vel).
â”‚  â”œâ”€ Art.2  âœ” Definir base de rateio para Indiretos (Unidades/Horas/Valor MP).
â”‚  â”œâ”€ Art.3  âœ” Utilizar aÃ§Ãµes: Salvar/Carregar/Limpar/Exportar JSON.
â”‚  â”œâ”€ Art.4  âœ” Compreender que KPIs resumem a classificaÃ§Ã£o atual.
â”‚  â””â”€ Art.5  âœ” Preparar terreno para a etapa seguinte (SimulaÃ§Ã£o).
â”‚
â”œâ”€â”€â–¶ (Diretriz) â†’ â€œClassifique agora para simular depoisâ€.
â”‚
[ CAPÃTULO III â€” CONCEITOS ESSENCIAIS (DICIONÃRIO FUNCIONAL) ]
â”‚  Define os eixos conceituais que sustentam a classificaÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” Custos Diretos â€” atribuÃ­veis ao produto sem rateio.
â”‚  â”œâ”€ Art.2  âœ” Custos Indiretos (CIF) â€” exigem base de rateio.
â”‚  â”œâ”€ Art.3  âœ” Fixo â€” nÃ£o varia no curto prazo com volume.
â”‚  â”œâ”€ Art.4  âœ” VariÃ¡vel â€” acompanha o volume produzido.
â”‚  â””â”€ Art.5  âœ” Bases de rateio â€” Unidades, Horas MOD, Horas-mÃ¡quina, Valor de MP.
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Clareza conceitual antes da aÃ§Ã£o operacional.
â”‚

[ CAPÃTULO IV â€” FÃ“RMULAS BÃSICAS (NUCLEAÃ‡ÃƒO DO CÃLCULO) ]
â”‚  Regras que serÃ£o usadas adiante (na simulaÃ§Ã£o).
â”‚  â”œâ”€ Art.1  âœ” Custo Total do Produto = Diretos + Quota de Indiretos.
â”‚  â”œâ”€ Art.2  âœ” Custo UnitÃ¡rio = Custo Total Ã· Quantidade Produzida.
â”‚  â”œâ”€ Art.3  âœ” Quota dos Indiretos depende da base de rateio adotada.
â”‚  â”œâ”€ Art.4  âœ” ConsistÃªncia: mesmo critÃ©rio do inÃ­cio ao fim.
â”‚  â””â”€ Art.5  âœ” Observabilidade: documentar escolhas de base.
â”‚
â”œâ”€â”€â–¶ (Resultado) â†’ CÃ¡lculo reprodutÃ­vel e auditÃ¡vel.
â”‚
[ CAPÃTULO V â€” CLASSIFICAÃ‡ÃƒO OPERACIONAL (TABELA DE TRABALHO) ]
â”‚  Estrutura onde o usuÃ¡rio efetivamente classifica cada item.
â”‚  â”œâ”€ Art.1  âœ” Campos: Item, Centro de Custo, DiretoÃ—Indireto, FixoÃ—VariÃ¡vel, Base, ObservaÃ§Ãµes.
â”‚  â”œâ”€ Art.2  âœ” Controles binÃ¡rios por grupo (radios) para DI/FV.
â”‚  â”œâ”€ Art.3  âœ” SeleÃ§Ã£o de base apenas quando Indireto.
â”‚  â”œâ”€ Art.4  âœ” ObservaÃ§Ãµes como trilha de auditoria (justificativas).
â”‚  â””â”€ Art.5  âœ” Acessibilidade de foco e navegaÃ§Ã£o por teclado.
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Capturar decisÃ£o contÃ¡bil no nÃ­vel do item.
â”‚
[ CAPÃTULO VI â€” AÃ‡Ã•ES & FLUXO DO OPERADOR (COMANDOS) ]
â”‚  OperaÃ§Ãµes sequenciais que suportam o preenchimento e persistÃªncia.
â”‚  â”œâ”€ Art.1  âœ” Adicionar linha para novos itens.
â”‚  â”œâ”€ Art.2  âœ” Carregar classificaÃ§Ã£o salva (estado anterior).
â”‚  â”œâ”€ Art.3  âœ” Salvar classificaÃ§Ã£o atual (persistÃªncia local).
â”‚  â”œâ”€ Art.4  âœ” Limpar linhas (reset controlado).
â”‚  â””â”€ Art.5  âœ” Exportar JSON (evidÃªncia/portabilidade).
â”‚
â”œâ”€â”€â–¶ (AÃ§Ã£o) â†’ Habilitar iteraÃ§Ãµes rÃ¡pidas mantendo rastreabilidade.
â”‚
[ CAPÃTULO VII â€” KPIs & CHECKLIST (SÃNTESE & QUALIDADE) ]
â”‚  Indicadores e verificaÃ§Ã£o rÃ¡pida da consistÃªncia da classificaÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” KPIs: Diretosâ€¢Fixos, Diretosâ€¢VariÃ¡veis, Indiretosâ€¢Fixos, Indiretosâ€¢VariÃ¡veis.
â”‚  â”œâ”€ Art.2  âœ” Checklist: separar custos de despesas; DI/FV corretos; base coerente nos Indiretos.
â”‚  â”œâ”€ Art.3  âœ” ObservaÃ§Ãµes registradas para itens sensÃ­veis.
â”‚  â”œâ”€ Art.4  âœ” Feedback visual claro (legibilidade e contraste).
â”‚  â””â”€ Art.5  âœ” Responsividade: leitura estÃ¡vel em diferentes telas.
â”‚
â”œâ”€â”€â–¶ (Objetivo) â†’ Confiabilidade antes de seguir para simular.
[ CAPÃTULO VIII â€” PERSISTÃŠNCIA & SEED (ESTADO INICIAL E SALVAMENTO) ]
â”‚  Como o estado nasce e Ã© mantido durante/entre sessÃµes.
â”‚  â”œâ”€ Art.1  âœ” SEED inicial: lista de itens exemplificativos por Ã¡rea.
â”‚  â”œâ”€ Art.2  âœ” Chave de armazenamento local (versÃ£o e updatedAt).
â”‚  â”œâ”€ Art.3  âœ” Carregar salvo > senÃ£o, iniciar pelo SEED.
â”‚  â”œâ”€ Art.4  âœ” ExportaÃ§Ã£o JSON preserva versÃ£o e conteÃºdo.
â”‚  â””â”€ Art.5  âœ” Import/Load recompÃµe tabela e recalcula KPIs.
â”‚
â”œâ”€â”€â–¶ (Garantia) â†’ Continuidade do trabalho e reprodutibilidade.
â”‚
[ CAPÃTULO IX â€” UX, ACESSIBILIDADE & LAYOUT (ENTREGÃVEL VISUAL) ]
â”‚  ConvenÃ§Ãµes de apresentaÃ§Ã£o e navegaÃ§Ã£o para reduzir atrito.
â”‚  â”œâ”€ Art.1  âœ” PainÃ©is com tÃ­tulos claros e seÃ§Ãµes numeradas.
â”‚  â”œâ”€ Art.2  âœ” Grids (2Ã—/3Ã—) com fallback responsivo (mobile-first).
â”‚  â”œâ”€ Art.3  âœ” Callouts para regras/fÃ³rmulas; tabela operacional com foco.
â”‚  â”œâ”€ Art.4  âœ” BotÃµes sÃ³lidos/ghost com hierarquia de aÃ§Ã£o.
â”‚  â””â”€ Art.5  âœ” Estados: padrÃ£o, hover, ativo e disabled consistentes.
â”‚
â”œâ”€â”€â–¶ (ExperiÃªncia) â†’ Clareza de leitura e fluxo previsÃ­vel.
â”‚
[ CAPÃTULO X â€” FLUXO OPERACIONAL (PIPELINE) ]
â”‚  SequÃªncia linear do comeÃ§o ao fim da atividade.
â”‚  â”œâ”€ Art.1  âœ” Ler orientaÃ§Ã£o â†’ entender conceitos/fÃ³rmulas.
â”‚  â”œâ”€ Art.2  âœ” Preencher/ajustar classificaÃ§Ã£o item a item.
â”‚  â”œâ”€ Art.3  âœ” Conferir KPIs & checklist; corrigir inconsistÃªncias.
â”‚  â”œâ”€ Art.4  âœ” Salvar/Exportar â†’ criar evidÃªncia e portabilidade.
â”‚  â””â”€ Art.5  âœ” AvanÃ§ar para â€œSimulaÃ§Ã£oâ€ com a base classificada.
â”‚
â”œâ”€â”€â–¶ (SÃ­ntese) â†’ ORIENTAR â†’ CLASSIFICAR â†’ VALIDAR â†’ PERSISTIR â†’ SIMULAR.
â”‚
[ CAPÃTULO XI â€” GOVERNANÃ‡A & AUDITABILIDADE (CONTROLE) ]
â”‚  Regras para confianÃ§a, trilha e manutenÃ§Ã£o do processo.
â”‚  â”œâ”€ Art.1  âœ” Versionamento do estado (version, updatedAt).
â”‚  â”œâ”€ Art.2  âœ” ObservaÃ§Ãµes por item para contexto de auditoria.
â”‚  â”œâ”€ Art.3  âœ” CritÃ©rios documentados de base de rateio.
â”‚  â”œâ”€ Art.4  âœ” ConsistÃªncia entre KPIs e linhas da tabela.
â”‚  â””â”€ Art.5  âœ” Export JSON como prova e insumo para revisÃµes.
â”‚
â”œâ”€â”€â–¶ (Contrato) â†’ TransparÃªncia e reprodutibilidade das decisÃµes.
â”‚
[ CAPÃTULO XII â€” PRÃ“XIMA ETAPA (SIMULAÃ‡ÃƒO) ]
â”‚  Conecta a classificaÃ§Ã£o com o cÃ¡lculo por absorÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” Utilizar a base classificada para distribuir CIFs.
â”‚  â”œâ”€ Art.2  âœ” Calcular custo total e unitÃ¡rio por produto.
â”‚  â”œâ”€ Art.3  âœ” Gerar relatÃ³rios para tomada de decisÃ£o.
â”‚  â”œâ”€ Art.4  âœ” Iterar ajuste de classificaÃ§Ã£o se necessÃ¡rio.
â”‚  â””â”€ Art.5  âœ” Encadear com mÃ³dulos seguintes (custos/precificaÃ§Ã£o).
â”‚
â”œâ”€â”€â–¶ (Encaminhamento) â†’ Da classificaÃ§Ã£o para o cÃ¡lculo e decisÃ£o.

```



## `MÃ³dulo__Diretoria:` RelatÃ³rio RapÃ­do de Tudo o que entrou e saiu

```Ruby
[ CAPÃTULO I â€” IDENTIDADE & CONTEXTO (PÃGINA ATIVA) ]
â”‚  Define o mÃ³dulo e o escopo do comparativo Entradas Ã— SaÃ­das.
â”‚  â”œâ”€ Art.1  âœ” PÃ¡gina corrente (CURRENT_PAGE) identifica a rota funcional
â”‚  â”œâ”€ Art.2  âœ” Container raiz do app (host do dashboard)
â”‚  â”œâ”€ Art.3  âœ” Endpoints declarados (data-api-entradas / data-api-saidas)
â”‚  â”œâ”€ Art.4  âœ” Tema claro/escuro unificado por tokens (cores, bordas, sombra)
â”‚  â””â”€ Art.5  âœ” Tipografia e densidade padronizadas
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ Situar o usuÃ¡rio e padronizar a experiÃªncia visual.
â”‚
[ CAPÃTULO II â€” CABEÃ‡ALHO & METADADOS (ORIENTAÃ‡ÃƒO) ]
â”‚  Identifica o comparativo e informa frescor.
â”‚  â”œâ”€ Art.1  âœ” TÃ­tulo do dashboard (Entradas Ã— SaÃ­das â€” Comparativo)
â”‚  â”œâ”€ Art.2  âœ” Indicador de Ãºltima atualizaÃ§Ã£o (last-sync)
â”‚  â”œâ”€ Art.3  âœ” Contexto de perÃ­odo (a partir dos filtros)
â”‚  â”œâ”€ Art.4  âœ” Acesso rÃ¡pido a exportaÃ§Ãµes/visualizaÃ§Ãµes
â”‚  â””â”€ Art.5  âœ” ConsistÃªncia com o restante do sistema
â”‚
â”œâ”€â”€â–¶ (PropÃ³sito) â†’ ConfianÃ§a imediata sobre â€œo queâ€ e â€œquÃ£o recenteâ€.
â”‚
[ CAPÃTULO III â€” FILTROS & PRESETS (PONTO DE ENTRADA) ]
â”‚  Parametrizam datas, agregaÃ§Ã£o e tipo de visualizaÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” Presets de perÃ­odo: Hoje / 7d / 30d / MÃªs atual / Entre datas
â”‚  â”œâ”€ Art.2  âœ” Intervalo customizÃ¡vel (De / AtÃ©) quando necessÃ¡rio
â”‚  â”œâ”€ Art.3  âœ” AgregaÃ§Ã£o: DiÃ¡rio / Semanal / Mensal
â”‚  â”œâ”€ Art.4  âœ” VisualizaÃ§Ã£o: Linhas / Barras
â”‚  â””â”€ Art.5  âœ” AÃ§Ãµes: Aplicar, alternar Modo compacto, Exportar sÃ©ries/itens
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Definir o recorte e a granularidade antes de comparar.
â”‚
[ CAPÃTULO IV â€” ESTADO & PREFERÃŠNCIAS (MEMÃ“RIA DO USUÃRIO) ]
â”‚  MantÃ©m escolhas entre sessÃµes e controla densidade.
â”‚  â”œâ”€ Art.1  âœ” Estado de presets, agregaÃ§Ã£o, range custom, densidade, view
â”‚  â”œâ”€ Art.2  âœ” PersistÃªncia local (prefs key) para reabrir no Ãºltimo contexto
â”‚  â”œâ”€ Art.3  âœ” AlternÃ¢ncia de densidade (padrÃ£o Ã— compacto)
â”‚  â”œâ”€ Art.4  âœ” SincronizaÃ§Ã£o dos inputs com o estado corrente
â”‚  â””â”€ Art.5  âœ” Observador de tamanho p/ redesenhar grÃ¡ficos (responsividade)
â”‚
â”œâ”€â”€â–¶ (Resultado) â†’ ExperiÃªncia contÃ­nua e adaptÃ¡vel.
â”‚
[ CAPÃTULO V â€” COLETA & NORMALIZAÃ‡ÃƒO (DADOS DE E/S) ]
â”‚  ObtenÃ§Ã£o de dados e fallback confiÃ¡vel.
â”‚  â”œâ”€ Art.1  âœ” Fetch de Entradas (API_E) e SaÃ­das (API_S)
â”‚  â”œâ”€ Art.2  âœ” NormalizaÃ§Ã£o de campos: id, date, label, qty, val
â”‚  â”œâ”€ Art.3  âœ” Fallback com dados demo em caso de erro
â”‚  â”œâ”€ Art.4  âœ” ValidaÃ§Ã£o de formato (array esperado)
â”‚  â””â”€ Art.5  âœ” Timestamp de sincronizaÃ§Ã£o para rastreabilidade
â”‚
â”œâ”€â”€â–¶ (Garantia) â†’ Sempre haverÃ¡ dados vÃ¡lidos para comparar.
â”‚
[ CAPÃTULO VI â€” AGREGAÃ‡ÃƒO & CHAVES TEMPORAIS (SÃ‰RIES) ]
â”‚  ConstrÃ³i buckets e sÃ©ries comparÃ¡veis.
â”‚  â”œâ”€ Art.1  âœ” Buckets por Dia / Semana (inÃ­cio ISO) / MÃªs
â”‚  â”œâ”€ Art.2  âœ” Merge de chaves: union ordenada de E e S
â”‚  â”œâ”€ Art.3  âœ” SÃ©ries paralelas: valores agregados para E e S
â”‚  â”œâ”€ Art.4  âœ” Metadados por bucket (val/qty/count) para anÃ¡lises
â”‚  â””â”€ Art.5  âœ” PreparaÃ§Ã£o para KPIs e grÃ¡ficos
â”‚
â”œâ”€â”€â–¶ (PrincÃ­pio) â†’ Comparar â€œcomo com comoâ€ no mesmo eixo temporal.
â”‚
[ CAPÃTULO VII â€” KPIs (SÃNTESE NUMÃ‰RICA) ]
â”‚  Leitura imediata do perÃ­odo filtrado.
â”‚  â”œâ”€ Art.1  âœ” Total de Entradas (valor)
â”‚  â”œâ”€ Art.2  âœ” Total de SaÃ­das (valor)
â”‚  â”œâ”€ Art.3  âœ” Saldo (E âˆ’ S) com indicaÃ§Ã£o Positivo/Negativo
â”‚  â”œâ”€ Art.4  âœ” RazÃ£o (E / S) para avaliar cobertura
â”‚  â””â”€ Art.5  âœ” Contagem de itens por lado (E/S) como contexto
â”‚
â”œâ”€â”€â–¶ (Objetivo) â†’ Ver â€œo tamanho da diferenÃ§aâ€ sem abrir detalhes.
â”‚
[ CAPÃTULO VIII â€” VISUALIZAÃ‡ÃƒO PRINCIPAL & SECUNDÃRIA (TRADUÃ‡ÃƒO) ]
â”‚  Facilita leitura de tendÃªncia e distribuiÃ§Ã£o.
â”‚  â”œâ”€ Art.1  âœ” GrÃ¡fico principal: Linhas (ou Barras) com legendas E/S
â”‚  â”œâ”€ Art.2  âœ” GrÃ¡fico lateral: amostra recente (Ãºltimos 6 buckets, barras)
â”‚  â”œâ”€ Art.3  âœ” Grid/escala consistentes para comparaÃ§Ã£o clara
â”‚  â”œâ”€ Art.4  âœ” Redesenho on-resize (responsivo)
â”‚  â””â”€ Art.5  âœ” AlternÃ¢ncia de visualizaÃ§Ã£o sem perder o estado
â”‚
â”œâ”€â”€â–¶ (Valor) â†’ PadrÃµes, picos e inversÃµes ficam evidentes.
â”‚
[ CAPÃTULO IX â€” RASTREABILIDADE (LISTAS & MODAL) ]
â”‚  EvidÃªncia item a item e inspeÃ§Ã£o pontual.
â”‚  â”œâ”€ Art.1  âœ” Listas de Ãºltimos lanÃ§amentos para Entradas e SaÃ­das
â”‚  â”œâ”€ Art.2  âœ” Visual â€œVerâ€ por item (modal com detalhes)
â”‚  â”œâ”€ Art.3  âœ” â€œVer tudoâ€ (consolidaÃ§Ã£o filtrada em modal)
â”‚  â”œâ”€ Art.4  âœ” OrdenaÃ§Ã£o temporal para revisÃ£o rÃ¡pida
â”‚  â””â”€ Art.5  âœ” ID + label + data + qty + valor como trilha mÃ­nima
â”‚
â”œâ”€â”€â–¶ (DiagnÃ³stico) â†’ Do agregado ao particular sem fricÃ§Ã£o.
â”‚
[ CAPÃTULO X â€” INSIGHTS & ALERTAS (SINALIZAÃ‡ÃƒO) ]
â”‚  HeurÃ­sticas de saÃºde do perÃ­odo.
â”‚  â”œâ”€ Art.1  âœ” Sem anomalias (OK) quando E â‰¥ S
â”‚  â”œâ”€ Art.2  âœ” WARN se S > E (atenÃ§Ã£o)
â”‚  â”œâ”€ Art.3  âœ” CRIT se S > E em >15% (risco elevado)
â”‚  â”œâ”€ Art.4  âœ” Mensagem contextual para prÃ³xima aÃ§Ã£o
â”‚  â””â”€ Art.5  âœ” Classe visual por severidade (ok/warn/crit)
â”‚
â”œâ”€â”€â–¶ (AÃ§Ã£o) â†’ Priorizar verificaÃ§Ã£o de caixa/estoque conforme severidade.
â”‚
[ CAPÃTULO XI â€” EXPORTAÃ‡ÃƒO (EVIDÃŠNCIAS) ]
â”‚  SaÃ­das para auditoria e anÃ¡lise externa.
â”‚  â”œâ”€ Art.1  âœ” Exportar sÃ©ries agregadas (CSV: bucket, entradas, saÃ­das)
â”‚  â”œâ”€ Art.2  âœ” Exportar itens filtrados (CSV: tipo, id, data, label, qty, val)
â”‚  â”œâ”€ Art.3  âœ” IdentificaÃ§Ã£o clara de arquivos (nomenclatura)
â”‚  â”œâ”€ Art.4  âœ” Compatibilidade com planilhas
â”‚  â””â”€ Art.5  âœ” PreservaÃ§Ã£o de separadores/aspas
â”‚
â”œâ”€â”€â–¶ (Prova) â†’ Reprodutibilidade fora do sistema.
â”‚
[ CAPÃTULO XII â€” RESPONSIVIDADE & DENSIDADE (USABILIDADE) ]
â”‚  Ajustes de layout e legibilidade.
â”‚  â”œâ”€ Art.1  âœ” Grade principal colapsa em 1 coluna â‰¤1100px
â”‚  â”œâ”€ Art.2  âœ” KPIs em 2Ã—1 colunas em telas menores
â”‚  â”œâ”€ Art.3  âœ” Modo compacto: altura/espacamento reduzidos
â”‚  â”œâ”€ Art.4  âœ” Tipos e chips adaptÃ¡veis (toques)
â”‚  â””â”€ Art.5  âœ” Contrast ratio preservado no tema escuro
â”‚
â”œâ”€â”€â–¶ (ExperiÃªncia) â†’ Leitura confortÃ¡vel em qualquer dispositivo.
â”‚
[ CAPÃTULO XIII â€” FLUXO OPERACIONAL (PIPELINE) ]
â”‚  SequÃªncia linear do uso ao insight.
â”‚  â”œâ”€ Art.1  âœ” UsuÃ¡rio escolhe preset ou datas (e agregaÃ§Ã£o/visualizaÃ§Ã£o)
â”‚  â”œâ”€ Art.2  âœ” Sistema carrega dados (API E/S) ou usa fallback
â”‚  â”œâ”€ Art.3  âœ” Filtra pelo range â†’ agrega por bucket â†’ monta sÃ©ries
â”‚  â”œâ”€ Art.4  âœ” Calcula KPIs â†’ desenha grÃ¡ficos â†’ atualiza listas
â”‚  â”œâ”€ Art.5  âœ” Emite insights/alertas â†’ permite exportar/inspecionar
â”‚  â””â”€ Art.6  âœ” Persiste preferÃªncias â†’ usuÃ¡rio itera (novo filtro)
â”‚
â”œâ”€â”€â–¶ (SÃ­ntese) â†’ FILTRAR â†’ COLETAR â†’ AGREGAR â†’ RENDERIZAR â†’ DIAGNOSTICAR â†’ EXPORTAR/ITERAR.
â”‚
[ CAPÃTULO XIV â€” GOVERNANÃ‡A & OBSERVABILIDADE (CONFIABILIDADE) ]
â”‚  Garantias de qualidade e rastreio.
â”‚  â”œâ”€ Art.1  âœ” Registro de Ãºltima sincronizaÃ§Ã£o (last-sync)
â”‚  â”œâ”€ Art.2  âœ” ConsistÃªncia entre KPIs, sÃ©ries e listas
â”‚  â”œâ”€ Art.3  âœ” Tratamento de erro/fallback sem travar a anÃ¡lise
â”‚  â”œâ”€ Art.4  âœ” Logs mÃ­nimos de aÃ§Ã£o (presets, export, ver tudo)
â”‚  â””â”€ Art.5  âœ” DocumentaÃ§Ã£o de limites (demo vs produÃ§Ã£o)
â”‚
â”œâ”€â”€â–¶ (Contrato) â†’ TransparÃªncia sobre origem, frescor e limites dos dados.
â”‚
â”œâ”€â”€â–¶ (Fluxo Geral) â†’ IDENTIDADE â†’ FILTROS â†’ DADOS â†’ AGREGAÃ‡ÃƒO â†’ KPIs/GRÃFICOS â†’ RASTREIO/INSIGHTS â†’ EXPORTAÃ‡ÃƒO â†’ GOVERNANÃ‡A
â”‚

```





